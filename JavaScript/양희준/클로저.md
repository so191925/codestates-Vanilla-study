# í´ë¡œì €

## ðŸ“Œ í´ë¡œì €(Closure)ëž€?

- MDN : í´ë¡œì €ëŠ” í•¨ìˆ˜ì™€ í•¨ìˆ˜ê°€ ì„ ì–¸ëœ ì–´íœ˜ì  í™˜ê²½ì˜ ì¡°í•©ì´ë‹¤.
- í´ë¡œì €ë¥¼ ì´í•´í•˜ë ¤ë©´ ìžë°”ìŠ¤í¬ë¦½íŠ¸ê°€ ì–´ë–»ê²Œ ë³€ìˆ˜ì˜ ìœ íš¨ë²”ìœ„ë¥¼ ì§€ì •í•˜ëŠ”ì§€ ë ‰ì‹œì»¬ìŠ¤ì½”í”„ë¥¼ ë¨¼ì € ì´í•´í•´ì•¼ í•œë‹¤.   
- ì™¸ë¶€ë ‰ì‹œì»¬ í™˜ê²½ì— ëŒ€í•œ ì°¸ì¡°ì¸ ìŠ¤ì½”í”„ì²´ì¸ê³¼ ì°¾ì•„ê°€ëŠ” ê³¼ì • ìŠ¤ì½”í”„ì²´ì´ë‹ì„ ì´í•´í•´ì•¼ í•œë‹¤.   
- Call Stackì—ì„œ ì œê±°ë˜ì–´ë„ ì™¸ë¶€í•¨ìˆ˜ê°€ ì°¸ì¡°í•˜ê³  ìžˆìœ¼ë©´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ëŸ¬í•œ íŠ¹ì„± ë•Œë¬¸ì— ë°œìƒí•˜ëŠ” í˜„ìƒì´ë‹¤.

## ðŸ“Œ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëž€?

- ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëž€ ì°¸ì¡°ë³€ìˆ˜ëŠ” í•¨ìˆ˜ê°€ ì •ì˜ë˜ëŠ” ì‹œì ì— ê²°ì •ëœë‹¤.
- ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëŠ” ì •ì ì´ë‹¤.

> 
```javascript
const num = 10;
function func1() {
    const num = 20;
    func2();
}
function func2() {
    console.log(num);
}
func1(); // 10 ì¶œë ¥
```
### ðŸ“‹ ë™ìž‘ê³¼ì •

1) func2ê°€ ì •ì˜ëœ ê³µê°„ì€ func1ê°€ ì •ì˜ëœ ê¸€ë¡œë²Œ ì˜ì—­ì— ì •ì˜ë˜ì–´ ìžˆë‹¤.
2) func1í•¨ìˆ˜ ì•ˆì—ì„œ í˜¸ì¶œì„ í•´ë„ func2ì˜ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì—ì„œëŠ” ì „ì—­ë³€ìˆ˜ë¡œ ì„ ì–¸ëœ numì´ ì¶œë ¥ëœë‹¤.

```javascript
const num = 10;
function func1() {
    const num = 20;
    function func2() {
        console.log(num);
    }
    func2();
}
func1(); // 20ì¶œë ¥
```
### ðŸ“‹ ë™ìž‘ê³¼ì •

1) func2ê°€ ì •ì˜ëœ ê³µê°„ì€ func1ê°€ ì •ì˜ëœ ì˜ì—­ ì•ˆì— ìžˆë‹¤.
2) func2ì—ì„œ func1ë¥¼ ì°¸ì¡° ê°€ëŠ¥í•˜ë‹¤. 
3) func1ì—ì˜ ì§€ì—­ë³€ìˆ˜ numì´ ì¶œë ¥ëœë‹¤. 
4) í•¨ìˆ˜ë¥¼ ì •ì˜í•œ ê³µê°„ì— ë”°ë¼ì„œ ì°¸ì¡°í•˜ëŠ” ì˜ì—­ì´ ì •í•´ì§„ë‹¤.
5) ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëŠ” ì •ì ìœ¼ë¡œ ì˜ì—­ì´ ì •í•´ì§„ë‹¤.

### ðŸ“Œ ìŠ¤ì½”í”„ ì²´ì¸

- ì‹¤í–‰ ì»¨í…ìŠ¤íŠ¸ì—ì„œì˜ ì™¸ë¶€ë ‰ì‹œì»¬í™˜ê²½ì„ ì°¸ì¡°í•  ìˆ˜ ìžˆê²Œ ëœë‹¤.
- í˜„ìž¬ ìŠ¤ì½”í”„ë¶€í„° ìƒìœ„ìŠ¤ì½”í”„ê¹Œì§€ ì‹ë³„ìžë¥¼ ì°¾ëŠ” ê³¼ì •ì´ë‹¤. 
- ì´ í˜„ìƒì„ ì²´ì¸ì²˜ëŸ¼ ì–½í˜€ìžˆë‹¤ í•´ì„œ ìŠ¤ì½”í”„ ì²´ì¸ì´ë¼ê³  í•˜ë©° ì°¾ëŠ” ê³¼ì •ì€ ìŠ¤ì½”í”„ ì²´ì´ë‹ì´ë¼ê³  í•œë‹¤.

```javascript
// ë ˆë²¨ 1
const num = 10;
function func1() {
    const num = 20;
    func2();
}
function func2() {
  // ì¶œë ¥í•  ìŠ¤ì½”í”„ ì‹œì  (ë ˆë²¨ 0)
    console.log(num);
}
func1(); // 10 ì¶œë ¥
```
### ðŸ“‹ ë™ìž‘ê³¼ì •

1) func1ì´ ì‹¤í–‰ë˜ë©´ ì•ˆì— ìžˆëŠ” func2ê°€ ì‹¤í–‰ëœë‹¤.
2) í•˜ì§€ë§Œ func2ì˜ ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ëŠ” func2ì˜ ì˜ì—­ì•ˆê³¼ ê¸€ë¡œë²Œ ì˜ì—­ì´ë‹¤. 
3) func2ì—ì„œ numì´ ì—†ê¸° ë•Œë¬¸ì— ìŠ¤ì½”í”„ ì²´ì¸ì„ í†µí•´ì„œ ê¸€ë¡œë²Œ ì˜ì—­ì— numì´ ìžˆë‚˜ íƒìƒ‰í•˜ì—¬ ì¶œë ¥í•œë‹¤.

```javascript
// ë ˆë²¨ 2
const num = 10;
function func1() {
  // ë ˆë²¨ 1
  // ì‹ë³„ìž numì´ ìžˆìœ¼ë¯€ë¡œ ì¶œë ¥í•œë’¤ ì¢…ë£Œ
    const num = 20;
    function func2() {
      // ì¶œë ¥í•  ìŠ¤ì½”í”„ì˜ ì‹œì  (ë ˆë²¨ 0)
        console.log(num);
    }
    func2();
}
func1(); // 20ì¶œë ¥
```

### ðŸ“‹ ë™ìž‘ê³¼ì •

1) func1ì´ ì‹¤í–‰ë˜ë©´ func1ì•ˆì— ìžˆëŠ” func2ë¥¼ ì •ì˜í•œ ë’¤ func2ë¥¼ ì¶œë ¥í•˜ê²Œ ëœë‹¤.
2) func2 ë ‰ì‹œì»¬ ìŠ¤ì½”í”„ì˜ì—­ì€ func2ì˜ ì˜ì—­ê³¼ func1ì˜ ì˜ì—­ ê¸€ë¡œë²Œ ì˜ì—­ì´ë‹¤.
3) func2ì•ˆì— numì´ ì—†ìœ¼ë¯€ë¡œ ìƒìœ„ìŠ¤ì½”í”„ì¸ func1ì˜ ì˜ì—­ì„ íƒìƒ‰í•˜ì—¬ numì„ ì¶œë ¥í•œë‹¤. 
4) ê¸€ë¡œë²Œ ì˜ì—­ì—ë„ numì´ ìžˆì§€ë§Œ ìžê¸° ì˜ì—­ì—ì„œë¶€í„° ë¶€ëª¨ì˜ì—­ì„ íƒìƒ‰í•˜ë‹¤ê°€ ì‹ë³„ìžë¥¼ ì°¾ê²Œ ë˜ë©´ ê·¸ ì§€ì ì˜ ì‹ë³„ìžë¥¼ ì¶œë ¥í•˜ë©° ë” ì´ìƒ ìƒìœ„ ìŠ¤ì½”í”„ë¡œ ì˜¬ë¼ê°€ì§€ ì•ŠëŠ”ë‹¤.

## ðŸ“Œ í´ë¡œì €ì˜ ì˜ˆì‹œ
í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ëŠ” ê°€ìž¥ í° ëª©ì ì€ ì¶œë ¥í•œ ë³€ìˆ˜ì— ì§ì ‘ ì ‘ê·¼í•˜ì§€ ëª»í•˜ê²Œ í•˜ì—¬ ì€ë‹‰í™”ë¥¼ í•  ë•Œ ì£¼ë¡œ ì‚¬ìš©ëœë‹¤.

```javascript
let num = 0;
function count() {
    return num += 1;
}
console.log(count()); // 1 ì¶œë ¥
console.log(count()); // 2 ì¶œë ¥
console.log(count()); // 3 ì¶œë ¥
console.log(num); // 3 ì¶œë ¥
```

### ðŸ“‹ ë™ìž‘ê³¼ì •

1) count í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ë³€ìˆ˜ë¥¼ 1ì”© ë”í•œ ê°’ì„ ì¶œë ¥í•˜ë ¤ê³  í•˜ë©´ í•¨ìˆ˜ ë‚´ë¶€ì˜ ë³€ìˆ˜ê°€ ì•„ë‹ˆë¼ ì „ì—­ë³€ìˆ˜ ì„ ì–¸ì„ í•´ì•¼ í•œë‹¤.
2) ì „ì—­ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì—¬ ì›í•˜ëŠ” ë™ìž‘ì´ ì™„ë£Œë˜ì—ˆë‹¤.
3) ë¬¸ì œì ì€ ì „ì—­ë³€ìˆ˜ë¥¼ ì‚¬ìš©í•˜ì˜€ê¸° ë•Œë¬¸ì— ì–´ë””ì„œë“ ì§€ numì´ë¼ëŠ” ë³€ìˆ˜ì— ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤.

```javascript
function count() {
    let num = 0;
    return () => num += 1;
}
const increase = count();
console.log(increase()); // 1 ì¶œë ¥
console.log(increase()); // 2 ì¶œë ¥
console.log(increase()); // 3 ì¶œë ¥
console.log(num); // ì˜¤ë¥˜ ë°œìƒ
```
### ðŸ“‹ ë™ìž‘ê³¼ì •

1) í•¨ìˆ˜ì˜ ë°˜í™˜ê°’ì— í•¨ìˆ˜ë¥¼ ì •ì˜í•˜ì—¬ ë°˜í™˜ë˜ëŠ” í•¨ìˆ˜ê°€ count ì•ˆì— ìžˆëŠ” ë³€ìˆ˜ numë¥¼ ì°¸ì¡°í•  ìˆ˜ ìžˆê²Œ ë°”ê¾¼ë‹¤.
2) ë³€ìˆ˜ numì€ ì€ë‹‰í™”ê°€ ë˜ì–´ ì™¸ë¶€ì—ì„œ ì ‘ê·¼í•˜ì§€ ëª»í•œë‹¤. 
3) í´ë¡œì €ë¥¼ ì‚¬ìš©í•˜ëŠ” ì´ìœ ì´ë‹¤.

```javascript
function count() {
    let num = 0;
    return () => {
        const newNum = 1;
        return newNum;
    }
}
const increase = count();
console.log(increase()); // 1 ì¶œë ¥
console.log(increase()); // 1 ì¶œë ¥
console.log(increase()); // 1 ì¶œë ¥
```
### ðŸ“‹ ë™ìž‘ê³¼ì •

1) í•¨ìˆ˜ë¥¼ ë°˜í™˜í•˜ì—¬ í´ë¡œì €ê°™ì´ ë³´ì´ì§€ë§Œ í´ë¡œì €ê°€ ì•„ë‹ˆë‹¤.
2) ì™¸ë¶€ ìŠ¤ì½”í”„ì—ì„œ ë³€ìˆ˜ë¥¼ ì°¸ì¡°í•˜ì§€ ì•Šì•„ í´ë¡œì €ê°€ ìƒì„±ê³¼ ë™ì‹œì— ìƒìœ„ í•¨ìˆ˜ë³´ë‹¤ ë¨¼ì € ì†Œë©¸ë˜ê¸° ë•Œë¬¸ì´ë‹¤. 
3) ì™¸ë¶€ í•¨ìˆ˜ê°€ ì°¸ì¡°í•˜ê³  ìžˆìœ¼ë©´ ë©”ëª¨ë¦¬ì—ì„œ í•´ì œí•˜ì§€ ì•ŠëŠ” íŠ¹ì„±ì„ ì´ìš©í•œë‹¤.

### ðŸ’¡ í´ë¡œì €ì˜ ì‚¬ìš©ëª©ì 

í´ë¡œì €ëŠ” ì „ì—­ ë³€ìˆ˜ì˜ ì ‘ê·¼ì„± ë¬¸ì œë¥¼ í•´ê²°í•˜ê¸° ìœ„í•œ ìŠ¤ì½”í”„ë¥¼ ì´ìš©í•´ì„œ ë³€ìˆ˜ì˜ ì ‘ê·¼ê¶Œí•œì„ ë§‰ëŠ” ê²ƒìœ¼ë¡œ ë³€ìˆ˜ ì€ë‹‰í™”ë¥¼ ìœ„í•´ ì‚¬ìš©í•˜ë©° ë³€ìˆ˜ë¥¼ ìˆ˜ì •í•˜ëŠ” ë°©ë²•ê³¼ ë³€ìˆ˜ë¥¼ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ì œê³µí•˜ë©° ë°–ì—ì„œ í•´ë‹¹ ë³€ìˆ˜ë¥¼ ì°¾ì§€ ëª»í•¨ìœ¼ë¡œ ë³€ìˆ˜ì˜ ì€ë‹‰í™”ë¥¼ í•´ê²°í•œë‹¤.

â— Ex) React.jsì˜ useState

```javascript
function useState(defalutValue) {
   let value = defalutValue;
   // ì§€ì—­ë³€ìˆ˜ë¥¼ ì½ëŠ” í•¨ìˆ˜
   function getValue() {
       return value;
   }
   // ì§€ì—­ë³€ìˆ˜ë¥¼ ë³€ê²½í•˜ëŠ” í•¨ìˆ˜
   function setValue(callback) {
       if (typeof callback === 'function') {
           value = callback(value);
       } else value = callback;
   }
   // í•¨ìˆ˜ë¥¼ ë°°ì—´ì— ë‹´ì•„ ë‚´ë³´ë‚´ê¸°
   return [ getValue, setValue ];
}

// ê¸°ë³¸ ê°’ì„ 100ìœ¼ë¡œ ì´ˆê¸°í™”
const [getValue, setValue] = useState(100);
// ì•ˆì— ë³€ìˆ˜ valueë¥¼ ì½ì„ ìˆ˜ ìžˆê²Œ ë§Œë“œëŠ” í•¨ìˆ˜
setValue(101);
// ì•ˆì— ë³€ìˆ˜ valueë¥¼ ì½ì„ ìˆ˜  ìžˆê²Œ ë§Œë“œëŠ” í•¨ìˆ˜
console.log(getValue());
setValue((value) => value + 1 );
console.log(getValue());
```